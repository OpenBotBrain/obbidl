protocol test(role c, role s) {
    fin {
        choice {
            a(u32) from c to s;
        } or {
            b(u32) from c to s;
        }
    }
    finish from c to s;
    ret(a: u32[], b: u32[]) from s to c;
}